doctype 5
html
  head
    title= title
    link(rel='stylesheet', href='/stylesheets/reset.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
    script(text="javascript", src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js")
    script(text="javascript", src="/socket.io/socket.io.js")
    script(text="javascript")

      var sent = 0;
      var rcvt = 0;
      var active = false;
      var socket = null;

      function sendMsgs(){
        if($("input[name=group]:checked").val()){
          sent++;
          $('#msgSent').val(''+sent);
          $('#msgInfo').append('<h4>' + $('#inputmsg').val() + '</h4>');
          rcvt++;
          $('#msgRcvt').val(''+rcvt);
        }else{
          alert("You must select a connection: WS or WSS");
        }
      }

      function sendMany(){
        var number = parseInt($('#inputOne').val());
        var interval = parseInt($('#inputTwo').val());
        times = parseInt($('#inputTree').val());
        var waiting = false;
        while(times){
          times--;
          setTimeout(
            function(){              
              for(var i=0; i<number; i++){
                sent++;                
                $('#msgSent').val(''+sent);
                $('#msgInfo').append('<h4>' + $('#inputmsg').val() + '</h4>');
                rcvt++;
                $('#msgRcvt').val(''+rcvt);
              }
              $('#msgInfo').append('<h3 style="color:blue;">' + ' ---> Waiting...' + '</h3>');              
            }, interval);
        }
      }

      function wss(){
        if(active){
          socket.discconect();
          active = false;
          console.log("WS disconnected...");          
        }else{
          console.log("Not using ws...");
        }
        $('#logsInfo').append('-connect with WSS- <br/>');
      }

      function ws(){
        socket = io.connect('ws://192.168.1.182:8080');
        socket.on('news',function(data){
          console.log("   ---> WS Connected.");
          active = true;
          $('#logsInfo').append(data+'<br/>');
        });        
      }
  body
    block content
